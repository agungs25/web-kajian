<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Santunan Anak Yatim Piatu LAZSIP</title>
<!-- Include React and ReactDOM from CDN -->
<script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
<script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
        color: #333;
    }
    header.header {
        background-color: #2c3e50;
        color: #fff;
        padding: 20px;
        text-align: center;
    }
    main.container {
        max-width: 900px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }
    thead th {
        background-color: #2c3e50;
        color: #fff;
        padding: 10px;
        text-align: left;
    }
    tbody td {
        padding: 8px;
        border-bottom: 1px solid #eee;
    }
    tbody tr:nth-child(odd) {
        background-color: #f9f9f9;
    }
    tbody tr:nth-child(even) {
        background-color: #fff;
    }
    .actions button {
        border: none;
        background: none;
        padding: 0;
        margin-right: 10px;
        cursor: pointer;
        font-size: 0.9em;
    }
    .actions .edit {
        color: #2980b9;
    }
    .actions .delete {
        color: #c0392b;
    }
    form label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    form input {
        width: 100%;
        padding: 8px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    .form-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 10px;
    }
    .form-actions button {
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9em;
    }
    .form-actions .submit {
        background-color: #2980b9;
        color: #fff;
    }
    .form-actions .cancel {
        background-color: #95a5a6;
        color: #fff;
    }
</style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      function YatimApp() {
        const initialData = [
          {
            id: 1,
            fatherName: "Ariep Afrianto",
            motherName: "Siti Salamah",
            childName: "Sayyidah Azzahrah",
            age: "12 tahun",
            school: "SMP Tahfidz Mushab bin Umair (MBU)",
          },
          {
            id: 2,
            fatherName: "Deni Gunawan",
            motherName: "Siti Komariah",
            childName: "Gheffira Nur Fatimah",
            age: "10 tahun",
            school: "Generasi Rabbani (GenR)",
          },
          {
            id: 3,
            fatherName: "Isnomo",
            motherName: "Mardiana",
            childName: "Aji",
            age: "13 tahun",
            school: "GenR",
          },
          {
            id: 4,
            fatherName: "Pranyoto",
            motherName: "Sunarni",
            childName: "Fatimah",
            age: "9 tahun",
            school: "STQ Imam Bukhori, Bekasi",
          },
          {
            id: 5,
            fatherName: "Abdul Latif",
            motherName: "Karyati",
            childName: "Muhamad Faza Rafasya",
            age: "9 bulan",
            school: "â€“",
          },
        ];

        const [data, setData] = useState(initialData);
        const [form, setForm] = useState({
          fatherName: "",
          motherName: "",
          childName: "",
          age: "",
          school: "",
        });
        const [editingId, setEditingId] = useState(null);

        function handleChange(e) {
          const { name, value } = e.target;
          setForm({ ...form, [name]: value });
        }

        function handleSubmit(e) {
          e.preventDefault();
          if (
            form.fatherName.trim() &&
            form.motherName.trim() &&
            form.childName.trim() &&
            form.age.trim()
          ) {
            if (editingId !== null) {
              setData(
                data.map((item) =>
                  item.id === editingId ? { ...item, ...form, id: editingId } : item
                )
              );
              setEditingId(null);
            } else {
              setData([...data, { ...form, id: data.length + 1 }]);
            }
            setForm({
              fatherName: "",
              motherName: "",
              childName: "",
              age: "",
              school: "",
            });
          }
        }

        function handleEdit(row) {
          setEditingId(row.id);
          setForm({
            fatherName: row.fatherName,
            motherName: row.motherName,
            childName: row.childName,
            age: row.age,
            school: row.school,
          });
        }

        function handleDelete(rowId) {
          setData(data.filter((item) => item.id !== rowId));
          if (editingId === rowId) {
            setEditingId(null);
            setForm({
              fatherName: "",
              motherName: "",
              childName: "",
              age: "",
              school: "",
            });
          }
        }

        function handleCancel() {
          setEditingId(null);
          setForm({
            fatherName: "",
            motherName: "",
            childName: "",
            age: "",
            school: "",
          });
        }

        return (
          <div>
            <header className="header">
              <h1>Data Santunan Anak Yatim Piatu LAZSIP</h1>
            </header>
            <main className="container">
              <table>
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Nama Ayah (rahimahullah)</th>
                    <th>Nama Ibu</th>
                    <th>Nama Anak</th>
                    <th>Umur</th>
                    <th>Sekolah</th>
                    <th>Aksi</th>
                  </tr>
                </thead>
                <tbody>
                  {data.map((row, index) => (
                    <tr key={row.id}>
                      <td>{index + 1}</td>
                      <td>{row.fatherName}</td>
                      <td>{row.motherName}</td>
                      <td>{row.childName}</td>
                      <td>{row.age}</td>
                      <td>{row.school}</td>
                      <td className="actions">
                        <button className="edit" onClick={() => handleEdit(row)}>Edit</button>
                        <button className="delete" onClick={() => handleDelete(row.id)}>Hapus</button>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
              <h2>{editingId !== null ? "Edit Data Anak" : "Tambah Data Anak"}</h2>
              <form onSubmit={handleSubmit}>
                <label htmlFor="fatherName">Nama Ayah (rahimahullah)</label>
                <input
                  id="fatherName"
                  name="fatherName"
                  value={form.fatherName}
                  onChange={handleChange}
                  placeholder="Contoh: Hasan bin Ali"
                />
                <label htmlFor="motherName">Nama Ibu</label>
                <input
                  id="motherName"
                  name="motherName"
                  value={form.motherName}
                  onChange={handleChange}
                  placeholder="Contoh: Siti Aminah"
                />
                <label htmlFor="childName">Nama Anak</label>
                <input
                  id="childName"
                  name="childName"
                  value={form.childName}
                  onChange={handleChange}
                  placeholder="Nama Anak"
                />
                <label htmlFor="age">Umur</label>
                <input
                  id="age"
                  name="age"
                  value={form.age}
                  onChange={handleChange}
                  placeholder="Contoh: 10 tahun"
                />
                <label htmlFor="school">Sekolah</label>
                <input
                  id="school"
                  name="school"
                  value={form.school}
                  onChange={handleChange}
                  placeholder="Contoh: Generasi Rabbani"
                />
                <div className="form-actions">
                  <button type="submit" className="submit">
                    {editingId !== null ? "Simpan Perubahan" : "Tambah Data"}
                  </button>
                  {editingId !== null && (
                    <button type="button" className="cancel" onClick={handleCancel}>
                      Batalkan
                    </button>
                  )}
                </div>
              </form>
            </main>
          </div>
        );
      }

      ReactDOM.render(<YatimApp />, document.getElementById('root'));
    </script>
</body>
</html>
